---
id: DS-010
title: Init Command + Smart Defaults
type: feature
epic: EPIC-003
status: done
sprint: phase-3
size: M
assignee: ""
dependencies:
  - [[DS-001]]
created: 2025-11-26
updated: 2025-11-28
---

# Init Command + Smart Defaults

## Description
Command to initialize the `.devstories` directory structure with intelligent defaults based on project context.

## Acceptance Criteria

### MVP
- [x] `devstories.init` command creates `.devstories/` directory
- [x] Creates `config.yaml` with sensible defaults
- [x] Creates `epics/` and `stories/` subdirectories
- [x] Does not overwrite existing configuration without confirmation
- [x] Shows success notification with next steps

### Enhanced
- [x] **Project detection**: Read `package.json`, `Cargo.toml`, `go.mod`, `pyproject.toml` etc. to suggest project name
- [x] **Config wizard**: Quick prompts for:
  - Project name (pre-filled from detection)
  - ID prefix preference (STORY vs US vs FEAT vs custom)
  - Initial sprint name (default: "sprint-1")
- [x] **Sample content option**: "Create sample epic & story?" - helps users understand format
- [x] **Git integration**: Offer to stage `.devstories/` for commit

## Technical Notes
- Use `vscode.workspace.findFiles()` to detect project files
- Config wizard via `vscode.window.showInputBox()` and `showQuickPick()`
- Sample content should be clearly marked as deletable examples

## Default config.yaml

```yaml
version: 1
project: "{{detected_or_prompted}}"

id_mode: auto
id_prefix:
  epic: "EPIC"
  story: "DS"

statuses:
  - id: todo
    label: "To Do"
  - id: in_progress
    label: "In Progress"
  - id: review
    label: "Review"
  - id: done
    label: "Done"

sprints:
  current: "sprint-1"

sizes: ["XS", "S", "M", "L", "XL"]
```
