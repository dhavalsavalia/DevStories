---
id: DS-013
title: Quick Capture + Inbox
type: feature
epic: EPIC-003
status: done
sprint: phase-3
size: M
assignee: ""
dependencies:
  - [[DS-012]]
created: 2025-11-26
updated: 2025-11-28
---

# Quick Capture + Inbox

## Description
Lightning-fast story capture without breaking flow. Keyboard shortcut opens minimal input, creates story with smart defaults, and optionally routes to an Inbox epic for later triage.

## Acceptance Criteria

### MVP
- [x] `devstories.quickCapture` command registered
- [x] Keybinding: `Cmd+Shift+S` (configurable)
- [x] Shows single input box for title
- [x] Creates story with defaults: type=task, size=M, current sprint
- [x] Does NOT open file (stays in current context)
- [x] Shows brief notification: "Created DS-XXX: {title}"
- [x] Tree view updates immediately

### Enhanced
- [x] **Inbox epic**: Auto-create `EPIC-INBOX` if doesn't exist, route quick captures there
- [x] **Pipe syntax**: Support `title | notes` format for quick context
  - "Fix login | users report 500 on submit" → title + pre-filled description
- [x] **From selection**: If text selected in editor, use as title (truncate if >100 chars)
- [x] **Type shorthand**: Prefix parsing for quick type assignment:
  - `bug: Login fails` → type=bug
  - `feat: Dark mode` → type=feature
  - `chore: Update deps` → type=chore
- [ ] **Repeat capture**: After creation, option to "Capture another?" (quick succession mode) (deferred)

## Technical Notes
- Input box: `vscode.window.showInputBox({ placeHolder: "Quick capture..." })`
- Selection: `vscode.window.activeTextEditor?.selection`
- Notification: `vscode.window.showInformationMessage()` with timeout
- Inbox epic ID: Fixed as `EPIC-INBOX` or configurable in config.yaml

## User Flow

### Basic Flow
```
1. Working on code...
2. Cmd+Shift+S
3. Type: "Add validation to email field"
4. Enter
5. → Notification: "Created DS-024: Add validation to email field"
6. → Continue working (no context switch)
```

### Enhanced Flow with Pipe Syntax
```
1. Cmd+Shift+S
2. Type: "bug: Login 500 error | Users on Safari report 500 when submitting"
3. Enter
4. → Creates bug story with description pre-filled
```

### From Selection Flow
```
1. Select text in code: "TODO: handle edge case for empty arrays"
2. Cmd+Shift+S
3. → Input pre-filled with "handle edge case for empty arrays"
4. Enter or edit, then Enter
```

## Keybinding Config

```json
{
  "key": "cmd+shift+s",
  "command": "devstories.quickCapture",
  "when": "editorTextFocus"
}
```

Note: May conflict with "Save All" in some setups. Consider `Cmd+Shift+D` as alternative.
