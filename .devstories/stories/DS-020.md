---
id: DS-020
title: Kanban Board UI
type: feature
epic: EPIC-005
status: done
sprint: phase-5
size: L
assignee: ""
dependencies:
  - DS-019
created: 2025-11-26
updated: 2025-11-28
---

# Kanban Board UI

## Description
Beautiful, functional Kanban board with columns, cards, and essential information at a glance. Designed for developer aesthetics.

## Acceptance Criteria

### MVP
- [x] Board renders columns from config.yaml statuses
- [x] Stories render as cards in correct columns based on status
- [x] Cards display: ID, Title, Type icon, Size badge
- [x] Columns show count of stories
- [x] Horizontal scroll for many columns, vertical scroll within columns
- [x] Empty column state: "No stories" placeholder

### Enhanced
- [ ] **WIP limits**: Configurable max items per column, visual warning when exceeded (DEFERRED)
- [ ] **Swimlanes by Epic**: Toggle to group stories by epic (horizontal lanes) (DEFERRED)
- [ ] **Compact/expanded view**: Toggle card detail level (DEFERRED)
- [ ] **Story count by type**: Column header shows "3 features, 1 bug" (DEFERRED)
- [x] **Color coding**: Subtle color hints based on type (left border)
- [ ] **Card hover**: Show full title and dependencies on hover (DEFERRED)

## Technical Notes
- Use CSS Grid for column layout
- Cards: Flexbox for internal layout
- Scrolling: `overflow-x: auto` for board, `overflow-y: auto` for columns
- Icons: Inline SVG or VS Code codicons

## Card Design

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ¨ DS-012                [M] â”‚
â”‚ Smart Story Creation         â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ EPIC-003 â€¢ 2 deps            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- Top row: Type icon, ID, Size badge (right-aligned)
- Middle: Title (truncate with ellipsis if long)
- Bottom: Epic name, dependency count

## Column Design

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ To Do (5)            [+] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [Card]                      â”‚
â”‚  [Card]                      â”‚
â”‚  [Card]                      â”‚
â”‚  ...                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- Header: Status icon, name, count, add button
- Body: Scrollable card list
- Footer: Optional "Load more" if many cards

## WIP Limits (Enhanced)

```yaml
# In config.yaml
statuses:
  - id: in_progress
    label: "In Progress"
    wip_limit: 3  # Max 3 stories
```

Visual treatment when exceeded:
- Column header turns orange/red
- Shows "3/3 âš ï¸" or "4/3 ğŸ”´"

## Swimlanes (Enhanced)

Toggle between:
1. **Flat view**: All stories in columns (default)
2. **Swimlane view**: Rows per epic, columns per status

```
           â”‚ To Do â”‚ In Progress â”‚ Done â”‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
EPIC-001   â”‚ [DS1] â”‚ [DS2]       â”‚ [DS3]â”‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
EPIC-002   â”‚ [DS4] â”‚             â”‚ [DS5]â”‚
```

## Implementation Notes

### Files Created/Modified
- `src/view/boardViewUtils.ts` - Added `getTypeIcon()`, `groupStoriesByStatus()`, `getStoriesForColumn()`
- `webview/board.css` - Complete kanban CSS: column layout, card styles, type-specific colors
- `webview/board.js` - Full kanban rendering: `renderBoard()`, `renderColumn()`, `renderCard()`, `escapeHtml()`
- `src/test/unit/boardView.test.ts` - Added 11 new tests for kanban utilities

### Architecture
- Pure utility functions in `boardViewUtils.ts` for unit testing
- Webview-side rendering for performance (no round-trip to extension for DOM updates)
- Stories grouped by status using `groupStoriesByStatus()`
- Card click opens story file via `boardApi.openStory()`
- Scroll positions (board horizontal + column vertical) persisted via `vscode.setState()`

### Styling
- CSS Flexbox for board container and columns
- Fixed column width (260px) with horizontal scroll
- VS Code CSS variables for theme integration
- Type-specific left border colors (feature=green, bug=red, task=blue, chore=purple)
- Cards show: type icon, ID, size badge, title (2-line clamp), epic name, deps count

### Security
- `escapeHtml()` prevents XSS in card content
- No sensitive data (filePath, content) in webview

## Deferred Decisions

### Enhanced Features (to consider for future)
- **WIP Limits**: Adds complexity (config parsing, visual warnings). Useful for strict kanban workflows.
- **Swimlanes by Epic**: Requires significant UI rework. Better suited as a separate "Epic Board View".
- **Compact/Expanded View**: Good UX enhancement but not critical for MVP.
- **Story Count by Type**: Nice-to-have, adds visual clutter to column headers.
- **Card Hover**: Would need CSS tooltip or popover component. Can add in polish phase.
