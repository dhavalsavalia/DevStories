---
id: DS-026
title: Fix search input blur on first keystroke
type: bug
epic: EPIC-005
status: done
sprint: backlog
size: S
assignee: ""
dependencies: []
created: 2025-11-28
updated: 2025-11-29
---

# Fix search input blur on first keystroke

## Description
When typing in the board filter search input, the first keystroke causes the input to lose focus (blur). User has to click back into the search box to continue typing.

## Steps to Reproduce
1. Open Board View
2. Click in the search input
3. Type a letter
4. Input loses focus after first character

## Expected Behavior
Search input should maintain focus while typing.

## Root Cause (Suspected)
The `renderBoard()` function replaces the entire DOM on filter change, including the search input. This causes focus loss. The `onFilterChanged()` -> `renderBoard()` cycle triggers on every keystroke via the debounced input handler.

## Potential Fix
- [x] Preserve focus state before re-render, restore after
- Or: Don't re-render filter bar on filter change (only re-render columns)
- Or: Use `input` event with proper focus management

## Implementation Notes
- **Solution**: Save focus state and cursor position before DOM re-render, restore after
- **File changed**: `webview/board.js:renderBoard()` and `handleKeydown()`
- **Approach**:
  1. Check if search input has focus before innerHTML replacement. If so, save selectionStart/selectionEnd. After re-render, restore focus and cursor position.
  2. Skip keyboard navigation (j/k/h/l/Space/Enter) when user is focused on input/select/textarea elements.
- **Preserves**: Cursor position within the search text for seamless typing experience
