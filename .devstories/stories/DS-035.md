---
id: DS-035
title: Config + template live reload service
type: chore
epic: EPIC-007
status: todo
sprint: backlog
size: M
assignee: ""
dependencies: []
created: 2025-11-29
updated: 2025-11-29
---

# Config + template live reload service

## Problem
`Watcher` only listens to `.devstories/**/*.md`. Updating `config.yaml`, adding a new status, tweaking templates, or changing `sprints.current` requires a full window reload before the tree, board, or commands see the change. That breaks iteration speed for the AI-heavy workflows DevStories targets.

## Proposal
- Introduce a `ConfigService` that watches `.devstories/config.yaml` and `.devstories/templates/**/*.md`.
- Parse config via existing utils (`createStoryUtils.parseConfigYaml`, `changeStatusUtils.parseStatusesFromConfig`) and emit an event with normalized data (statuses, sizes, templates, sprint info).
- Expose the latest config via synchronous getters so commands (create story, change status, quick capture) always see fresh data.
- Auto-refresh dependent views (status bar, board, tree labels) when config changesâ€”no manual reload.

## Acceptance Criteria
- [ ] Editing `config.yaml` (statuses, sprints, sizes, templates) updates commands and UI within ~250ms.
- [ ] Adding/editing template files under `.devstories/templates/` updates the create-story template list automatically.
- [ ] Board columns re-render when statuses change; tree view and pickers rebuild options.
- [ ] Config parsing failures surface a VS Code warning but fall back to last-known-good values.
- [ ] Unit tests cover watcher debounce, parsing, and consumer update hooks.

## Notes
This story unblocks [[DS-034]], [[DS-037]], and [[DS-038]]. Consider storing config snapshots on disk (e.g., `context.globalState`) to bootstrap faster on activation.
