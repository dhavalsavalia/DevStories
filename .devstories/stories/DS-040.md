---
id: DS-040
title: Incremental store → board updates
type: feature
epic: EPIC-007
status: todo
sprint: backlog
size: M
assignee: ""
dependencies: []
created: 2025-11-29
updated: 2025-11-29
---

# Incremental store → board updates

## Problem
`BoardViewProvider.sendInitData()` re-sends the entire dataset on every store change. The webview never receives the `storyUpdated` / `storyDeleted` messages it already understands, so the DOM rebuilds constantly—wiping focus, filters, and scroll state (DS-026 was a band-aid).

## Proposal
- Track previous payload inside `BoardViewProvider` and emit granular events: `storyUpdated`, `storyDeleted`, `epicUpdated`, `statusConfigChanged`.
- In the webview script, update in-memory collections without re-rendering the entire board; only touched columns/cards re-render.
- Provide a fallback `refresh` message for rare cases (e.g., config reset) to keep logic simple.

## Acceptance Criteria
- [ ] Drag-dropping a card only updates the affected card + columns; filter/search focus never blinks.
- [ ] Typing in the search box while unrelated stories change does not rerender the field.
- [ ] Memory usage stays flat (no leaking historical payloads).
- [ ] Tests assert that repeated status updates trigger incremental messages, not full init payloads.
- [ ] Combined with [[DS-038]] enhancements, the board feels instant even with high churn.

## Notes
This is groundwork for future sprint planning (EPIC-006) where data churn will increase significantly.
