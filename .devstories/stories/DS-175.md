---
id: DS-175
title: "Fix hardcoded 'done' status checks"
type: bug
epic: EPIC-027
status: done
sprint: 1.1.0-fixes
size: S
priority: 100
assignee: ""
dependencies:
created: 2025-12-05
updated: 2025-12-05
---

# Fix hardcoded 'done' status checks

## Description

Progress counts in hover provider and status bar use `status === 'done'` to determine completion. This breaks if the user's last status is "deployed", "closed", "completed", etc.

## Affected Files

- `src/providers/storyHoverProvider.ts:92` - Epic progress: `stories.filter(s => s.status === 'done')`
- `src/view/statusBarUtils.ts:32` - Stats: `filtered.filter(s => s.status === 'done')`

## Acceptance Criteria

- [x] Progress counts check if status is LAST in config workflow, not literal 'done'
- [x] Works with any custom completion status
- [x] Add `isCompletedStatus(status, statuses)` utility function
- [x] Unit tests for utility function
