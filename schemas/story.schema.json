{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "DevStories Story Frontmatter",
  "description": "Schema for story markdown frontmatter",
  "type": "object",
  "required": ["id", "title", "type", "epic", "status", "size", "created"],
  "properties": {
    "id": {
      "$ref": "defs/common.schema.json#/$defs/storyId",
      "description": "Unique story identifier (e.g., DS-001)"
    },
    "title": {
      "type": "string",
      "minLength": 1,
      "maxLength": 200,
      "description": "Story title - brief description of the work"
    },
    "type": {
      "$ref": "defs/common.schema.json#/$defs/storyType",
      "description": "Story type: feature, bug, task, or chore"
    },
    "epic": {
      "$ref": "defs/common.schema.json#/$defs/epicId",
      "description": "Parent epic ID this story belongs to"
    },
    "status": {
      "type": "string",
      "minLength": 1,
      "description": "Current workflow status (validated against config.yaml statuses)"
    },
    "sprint": {
      "type": "string",
      "description": "Sprint identifier (validated against config.yaml sprints)"
    },
    "size": {
      "$ref": "defs/common.schema.json#/$defs/storySize",
      "description": "Complexity estimate: XS, S, M, L, or XL"
    },
    "priority": {
      "type": "integer",
      "description": "Sort priority - lower values appear first"
    },
    "assignee": {
      "type": "string",
      "description": "Person assigned to this story"
    },
    "dependencies": {
      "type": "array",
      "items": {
        "$ref": "defs/common.schema.json#/$defs/storyIdOrWikiLink"
      },
      "description": "List of story IDs this story depends on"
    },
    "created": {
      "$ref": "defs/common.schema.json#/$defs/dateString",
      "description": "Date story was created (YYYY-MM-DD)"
    },
    "updated": {
      "$ref": "defs/common.schema.json#/$defs/dateString",
      "description": "Date story was last modified (auto-updated on save)"
    }
  },
  "additionalProperties": false
}
